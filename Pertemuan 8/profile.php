<?php

if ($_SERVER['REQUEST_METHOD'] !== "POST") exit("You Dont Have Access");

$requiredKeys = [
    'nama-depan',
    'nama-belakang',
    'email',
    'no-hp',
    'jenis-kelamin',
    'pekerjaan',
    'provinsi',
    'kota',
    'kecamatan',
    'kodepos',
    'alamat-lengkap',
    'bio',
    'instagram',
    'linkedin',
    'github',
    'facebook',
    'setuju'
];


$data = $_POST;

$missingKeys = array();
foreach ($requiredKeys as $key) {
    if (!array_key_exists($key, $data) || empty($data[$key])) {
        $missingKeys[] = $key;
    }
}

// if (!empty($missingKeys)) {
//     $missingKeysString = implode(', ', $missingKeys);
//     exit("$missingKeysString is required");
// }

?>


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
    </style>
</head>

<body class="box-border pb-16">
    <?php if (empty($missingKeys)) { ?>
        <main class="w-full flex justify-center mt-10">
            <section class="md:w-96 w-full px-4 md:px-0">

                <h1 class="text-2xl font-medium text-center mt-3"><?= "{$data['nama-depan']} {$data['nama-belakang']}";  ?></h1>
                <h2 class="text-sm italic text-center mt-1 text-slate-400"><?= $data['pekerjaan']  ?></h2>
                <p class="mt-5 text-sm font-light"><?= $data['bio']  ?></p>

                <h2 class="text-base border-b-2 border-blue-800 w-fit mt-8">Alamat</h2>
                <ul class="flex flex-col gap-3 text-sm mt-5">
                    <li class="inline-flex items-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 6.25C9.92893 6.25 8.25 7.92893 8.25 10C8.25 12.0711 9.92893 13.75 12 13.75C14.0711 13.75 15.75 12.0711 15.75 10C15.75 7.92893 14.0711 6.25 12 6.25ZM9.75 10C9.75 8.75736 10.7574 7.75 12 7.75C13.2426 7.75 14.25 8.75736 14.25 10C14.25 11.2426 13.2426 12.25 12 12.25C10.7574 12.25 9.75 11.2426 9.75 10Z" fill="#2D264B" />
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 0.25C7.11666 0.25 3.25 4.49277 3.25 9.6087C3.25 11.2494 4.06511 13.1814 5.09064 14.9945C6.13277 16.837 7.46288 18.6762 8.62903 20.1633L8.66793 20.2129C9.23714 20.9388 9.72203 21.5573 10.1922 21.9844C10.7052 22.4504 11.2709 22.7555 12 22.7555C12.7291 22.7555 13.2948 22.4504 13.8078 21.9844C14.278 21.5572 14.7629 20.9388 15.3321 20.2129L15.371 20.1633C16.5371 18.6762 17.8672 16.837 18.9094 14.9945C19.9349 13.1814 20.75 11.2494 20.75 9.6087C20.75 4.49277 16.8833 0.25 12 0.25ZM4.75 9.6087C4.75 5.21571 8.04678 1.75 12 1.75C15.9532 1.75 19.25 5.21571 19.25 9.6087C19.25 10.8352 18.6104 12.4764 17.6037 14.256C16.6137 16.0063 15.3342 17.7794 14.1906 19.2377C13.5717 20.027 13.1641 20.5426 12.7992 20.8741C12.4664 21.1764 12.2442 21.2555 12 21.2555C11.7558 21.2555 11.5336 21.1764 11.2008 20.8741C10.8359 20.5426 10.4283 20.027 9.80938 19.2377C8.66578 17.7794 7.38628 16.0063 6.39625 14.256C5.38962 12.4764 4.75 10.8352 4.75 9.6087Z" fill="#2D264B" />
                        </svg>
                        <span class="ml-2"><?= "{$data['kecamatan']},{$data['kota']}, {$data['provinsi']}"  ?></span>
                    </li>
                </ul>

                <h2 class="text-base border-b-2 border-blue-800 w-fit mt-8">Kontak</h2>
                <ul class="flex flex-col gap-3 text-sm mt-5">
                    <li class="inline-flex items-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M2.60805 5.64824C2 6.93577 2 8.77405 2 12C2 15.7497 2 17.6246 2.95491 18.9389C3.26331 19.3634 3.6366 19.7367 4.06107 20.0451C5.3754 21 7.25027 21 11 21H13C16.7497 21 18.6246 21 19.9389 20.0451C20.3634 19.7367 20.7367 19.3634 21.0451 18.9389C22 17.6246 22 15.7497 22 12C22 8.75125 22 6.90985 21.379 5.62103M2.60805 5.64824C2.70677 5.4392 2.82153 5.24467 2.95491 5.06107C3.26331 4.6366 3.6366 4.26331 4.06107 3.95491C5.3754 3 7.25027 3 11 3H13C16.7497 3 18.6246 3 19.9389 3.95491C20.3634 4.26331 20.7367 4.6366 21.0451 5.06107C21.1727 5.23667 21.2832 5.42228 21.379 5.62103M2.60805 5.64824L3 6L4.92893 7.92893C8.26227 11.2623 9.92893 12.9289 12 12.9289C14.0711 12.9289 15.7377 11.2623 19.0711 7.92894L21 6L21.379 5.62103" stroke="#2D264B" stroke-width="1.5" />
                        </svg> <span class="ml-2"><?= $data['email']  ?></span>
                    </li>
                    <li class="inline-flex items-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M4.3986 4.3986C8.59674 0.200466 15.4033 0.200466 19.6014 4.3986C20.787 5.5842 21.8735 7.37933 22.405 9.38853C22.9384 11.4052 22.9254 13.693 21.8219 15.8067C21.7176 16.0065 21.6422 16.1509 21.5879 16.2576C21.5609 16.3106 21.541 16.3507 21.5265 16.381C21.5222 16.3901 21.5185 16.3979 21.5155 16.4044C21.5136 16.4086 21.5119 16.4123 21.5104 16.4155C21.5069 16.4234 21.5055 16.4269 21.5055 16.4269C21.4355 16.6026 21.4164 16.6846 21.4094 16.7453C21.4025 16.806 21.4027 16.8903 21.4312 17.0773C21.4393 17.1305 21.4603 17.2158 21.5348 17.5033L21.5392 17.5201C21.6391 17.9057 21.7202 18.2186 21.7741 18.4709C21.8282 18.7241 21.8674 18.9696 21.8588 19.2095C21.8069 20.6506 20.6506 21.8069 19.2095 21.8588C18.9696 21.8674 18.7241 21.8282 18.4709 21.7741C18.2186 21.7202 17.9057 21.6391 17.5201 21.5392L17.5033 21.5348C17.2157 21.4603 17.1305 21.4393 17.0771 21.4312C16.8916 21.403 16.8056 21.4029 16.7432 21.4102C16.6807 21.4174 16.5971 21.4373 16.4231 21.5073C16.4231 21.5073 16.4196 21.5087 16.4116 21.5124C16.4034 21.5161 16.3923 21.5213 16.3775 21.5284C16.3475 21.5429 16.308 21.5627 16.2556 21.5896C16.1504 21.6437 16.008 21.7188 15.8109 21.8228C11.6079 24.0397 6.80689 22.0097 4.3986 19.6014C0.200466 15.4033 0.200466 8.59674 4.3986 4.3986ZM18.5407 5.45926C14.9284 1.84691 9.07161 1.84691 5.45926 5.45926C1.84691 9.07161 1.84691 14.9284 5.45926 18.5407C7.60015 20.6816 11.704 22.2931 15.111 20.496C15.1357 20.483 15.1599 20.4702 15.1835 20.4578C15.5076 20.2868 15.7306 20.169 15.8634 20.1157C16.0931 20.0233 16.3175 19.9496 16.5698 19.9202C16.822 19.8909 17.0574 19.911 17.3021 19.9482C17.4434 19.9696 17.6121 20.0134 17.8357 20.0714C17.8501 20.0752 17.8648 20.079 17.8797 20.0828C18.2861 20.1881 18.5675 20.2609 18.7843 20.3073C19.0039 20.3542 19.104 20.3616 19.1555 20.3597C19.8106 20.3361 20.3361 19.8106 20.3597 19.1555C20.3616 19.104 20.3542 19.0039 20.3073 18.7843C20.2609 18.5675 20.1881 18.2861 20.0828 17.8797C20.0789 17.8647 20.0751 17.85 20.0714 17.8355C20.0134 17.6121 19.9697 17.4437 19.9483 17.3033C19.9112 17.0601 19.8904 16.8261 19.9191 16.575C19.9478 16.324 20.0209 16.1008 20.1118 15.8722C20.1644 15.74 20.2822 15.5146 20.4538 15.186C20.4663 15.1621 20.4791 15.1375 20.4922 15.1125C21.3825 13.4072 21.4174 11.5206 20.9548 9.77213C20.4903 8.01618 19.5369 6.45544 18.5407 5.45926Z" fill="#2D264B" />
                            <path d="M8.85785 11.8579C8.85785 12.4102 8.41013 12.8579 7.85785 12.8579C7.30556 12.8579 6.85785 12.4102 6.85785 11.8579C6.85785 11.3056 7.30556 10.8579 7.85785 10.8579C8.41013 10.8579 8.85785 11.3056 8.85785 11.8579Z" fill="#2D264B" />
                            <path d="M12.8578 11.8579C12.8578 12.4102 12.4101 12.8579 11.8578 12.8579C11.3056 12.8579 10.8578 12.4102 10.8578 11.8579C10.8578 11.3056 11.3056 10.8579 11.8578 10.8579C12.4101 10.8579 12.8578 11.3056 12.8578 11.8579Z" fill="#2D264B" />
                            <path d="M16.8578 11.8579C16.8578 12.4102 16.4101 12.8579 15.8578 12.8579C15.3056 12.8579 14.8578 12.4102 14.8578 11.8579C14.8578 11.3056 15.3056 10.8579 15.8578 10.8579C16.4101 10.8579 16.8578 11.3056 16.8578 11.8579Z" fill="#2D264B" />
                        </svg>
                        <span class="ml-2"><?= $data['no-hp']  ?></span>
                    </li>
                </ul>

                <h2 class="text-base border-b-2 border-blue-800 w-fit mt-8">Sosial Media</h2>
                <ul class="flex flex-col gap-3 text-sm mt-5">
                    <li class="inline-flex items-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5.06107 20.0451L5.50191 19.4383L5.06107 20.0451ZM3.95491 18.9389L4.56168 18.4981L3.95491 18.9389ZM20.0451 18.9389L19.4383 18.4981L20.0451 18.9389ZM18.9389 20.0451L18.4981 19.4383L18.9389 20.0451ZM18.9389 3.95491L18.4981 4.56168L18.9389 3.95491ZM20.0451 5.06107L19.4383 5.50191L20.0451 5.06107ZM5.06107 3.95491L5.50191 4.56168L5.06107 3.95491ZM3.95491 5.06107L4.56168 5.50191L3.95491 5.06107ZM12 20.25C10.1084 20.25 8.74999 20.249 7.69804 20.135C6.66013 20.0225 6.00992 19.8074 5.50191 19.4383L4.62023 20.6518C5.42656 21.2377 6.37094 21.5 7.53648 21.6263C8.68798 21.751 10.1418 21.75 12 21.75V20.25ZM2.25 12C2.25 13.8582 2.24897 15.312 2.37373 16.4635C2.50001 17.6291 2.76232 18.5734 3.34815 19.3798L4.56168 18.4981C4.19259 17.9901 3.97745 17.3399 3.865 16.302C3.75103 15.25 3.75 13.8916 3.75 12H2.25ZM5.50191 19.4383C5.14111 19.1762 4.82382 18.8589 4.56168 18.4981L3.34815 19.3798C3.70281 19.8679 4.13209 20.2972 4.62023 20.6518L5.50191 19.4383ZM20.25 12C20.25 13.8916 20.249 15.25 20.135 16.302C20.0225 17.3399 19.8074 17.9901 19.4383 18.4981L20.6518 19.3798C21.2377 18.5734 21.5 17.6291 21.6263 16.4635C21.751 15.312 21.75 13.8582 21.75 12H20.25ZM12 21.75C13.8582 21.75 15.312 21.751 16.4635 21.6263C17.6291 21.5 18.5734 21.2377 19.3798 20.6518L18.4981 19.4383C17.9901 19.8074 17.3399 20.0225 16.302 20.135C15.25 20.249 13.8916 20.25 12 20.25V21.75ZM19.4383 18.4981C19.1762 18.8589 18.8589 19.1762 18.4981 19.4383L19.3798 20.6518C19.8679 20.2972 20.2972 19.8679 20.6518 19.3798L19.4383 18.4981ZM12 3.75C13.8916 3.75 15.25 3.75103 16.302 3.865C17.3399 3.97745 17.9901 4.19259 18.4981 4.56168L19.3798 3.34815C18.5734 2.76232 17.6291 2.50001 16.4635 2.37373C15.312 2.24897 13.8582 2.25 12 2.25V3.75ZM21.75 12C21.75 10.1418 21.751 8.68798 21.6263 7.53648C21.5 6.37094 21.2377 5.42656 20.6518 4.62023L19.4383 5.50191C19.8074 6.00992 20.0225 6.66013 20.135 7.69804C20.249 8.74999 20.25 10.1084 20.25 12H21.75ZM18.4981 4.56168C18.8589 4.82382 19.1762 5.14111 19.4383 5.50191L20.6518 4.62023C20.2972 4.13209 19.8679 3.70281 19.3798 3.34815L18.4981 4.56168ZM12 2.25C10.1418 2.25 8.68798 2.24897 7.53648 2.37373C6.37094 2.50001 5.42656 2.76232 4.62023 3.34815L5.50191 4.56168C6.00992 4.19259 6.66013 3.97745 7.69804 3.865C8.74999 3.75103 10.1084 3.75 12 3.75V2.25ZM3.75 12C3.75 10.1084 3.75103 8.74999 3.865 7.69804C3.97745 6.66013 4.19259 6.00992 4.56168 5.50191L3.34815 4.62023C2.76232 5.42656 2.50001 6.37094 2.37373 7.53648C2.24897 8.68798 2.25 10.1418 2.25 12H3.75ZM4.62023 3.34815C4.13209 3.70281 3.70281 4.13209 3.34815 4.62023L4.56168 5.50191C4.82382 5.14111 5.14111 4.82382 5.50191 4.56168L4.62023 3.34815ZM8.25 12C8.25 14.0711 9.92893 15.75 12 15.75V14.25C10.7574 14.25 9.75 13.2426 9.75 12H8.25ZM12 15.75C14.0711 15.75 15.75 14.0711 15.75 12H14.25C14.25 13.2426 13.2426 14.25 12 14.25V15.75ZM15.75 12C15.75 9.92893 14.0711 8.25 12 8.25V9.75C13.2426 9.75 14.25 10.7574 14.25 12H15.75ZM12 8.25C9.92893 8.25 8.25 9.92893 8.25 12H9.75C9.75 10.7574 10.7574 9.75 12 9.75V8.25Z" fill="#2D264B" />
                            <path d="M16 7C16 7.55228 16.4477 8 17 8C17.5523 8 18 7.55228 18 7C18 6.44772 17.5523 6 17 6C16.4477 6 16 6.44772 16 7Z" fill="#2D264B" />
                        </svg>

                        <span class="ml-2"><?= $data['instagram']  ?></span>
                    </li>
                    <li class="inline-flex items-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22 3.47059V20.5294C22 20.9194 21.8451 21.2935 21.5693 21.5693C21.2935 21.8451 20.9194 22 20.5294 22H3.47059C3.08056 22 2.70651 21.8451 2.43073 21.5693C2.15494 21.2935 2 20.9194 2 20.5294V3.47059C2 3.08056 2.15494 2.70651 2.43073 2.43073C2.70651 2.15494 3.08056 2 3.47059 2H20.5294C20.9194 2 21.2935 2.15494 21.5693 2.43073C21.8451 2.70651 22 3.08056 22 3.47059ZM7.88235 9.64706H4.94118V19.0588H7.88235V9.64706ZM8.14706 6.41177C8.14861 6.18929 8.10632 5.96869 8.02261 5.76255C7.93891 5.55642 7.81542 5.36879 7.65919 5.21039C7.50297 5.05198 7.31708 4.92589 7.11213 4.83933C6.90718 4.75277 6.68718 4.70742 6.46471 4.70588H6.41177C5.95934 4.70588 5.52544 4.88561 5.20552 5.20552C4.88561 5.52544 4.70588 5.95934 4.70588 6.41177C4.70588 6.86419 4.88561 7.29809 5.20552 7.61801C5.52544 7.93792 5.95934 8.11765 6.41177 8.11765C6.63426 8.12312 6.85565 8.0847 7.06328 8.00458C7.27092 7.92447 7.46074 7.80422 7.62189 7.65072C7.78304 7.49722 7.91237 7.31346 8.00248 7.10996C8.09259 6.90646 8.14172 6.6872 8.14706 6.46471V6.41177ZM19.0588 13.3412C19.0588 10.5118 17.2588 9.41177 15.4706 9.41177C14.8851 9.38245 14.3021 9.50715 13.7799 9.77345C13.2576 10.0397 12.8143 10.4383 12.4941 10.9294H12.4118V9.64706H9.64706V19.0588H12.5882V14.0529C12.5457 13.5403 12.7072 13.0315 13.0376 12.6372C13.3681 12.2429 13.8407 11.9949 14.3529 11.9471H14.4647C15.4 11.9471 16.0941 12.5353 16.0941 14.0176V19.0588H19.0353L19.0588 13.3412Z" fill="black" />
                        </svg>


                        <span class="ml-2"><?= $data['linkedin']  ?></span>
                    </li>
                    <li class="inline-flex items-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.475 2 2 6.475 2 12C2 16.425 4.8625 20.1625 8.8375 21.4875C9.3375 21.575 9.525 21.275 9.525 21.0125C9.525 20.775 9.5125 19.9875 9.5125 19.15C7 19.6125 6.35 18.5375 6.15 17.975C6.0375 17.6875 5.55 16.8 5.125 16.5625C4.775 16.375 4.275 15.9125 5.1125 15.9C5.9 15.8875 6.4625 16.625 6.65 16.925C7.55 18.4375 8.9875 18.0125 9.5625 17.75C9.65 17.1 9.9125 16.6625 10.2 16.4125C7.975 16.1625 5.65 15.3 5.65 11.475C5.65 10.3875 6.0375 9.4875 6.675 8.7875C6.575 8.5375 6.225 7.5125 6.775 6.1375C6.775 6.1375 7.6125 5.875 9.525 7.1625C10.325 6.9375 11.175 6.825 12.025 6.825C12.875 6.825 13.725 6.9375 14.525 7.1625C16.4375 5.8625 17.275 6.1375 17.275 6.1375C17.825 7.5125 17.475 8.5375 17.375 8.7875C18.0125 9.4875 18.4 10.375 18.4 11.475C18.4 15.3125 16.0625 16.1625 13.8375 16.4125C14.2 16.725 14.5125 17.325 14.5125 18.2625C14.5125 19.6 14.5 20.675 14.5 21.0125C14.5 21.275 14.6875 21.5875 15.1875 21.4875C17.1727 20.8173 18.8977 19.5415 20.1198 17.8395C21.3419 16.1376 21.9995 14.0953 22 12C22 6.475 17.525 2 12 2Z" fill="black" />
                        </svg>


                        <span class="ml-2"><?= $data['github']  ?></span>
                    </li>
                    <li class="inline-flex items-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22 12C22 6.47717 17.5229 2.00002 12 2.00002C6.47715 2.00002 2 6.47717 2 12C2 16.9913 5.65686 21.1283 10.4375 21.8785V14.8906H7.89844V12H10.4375V9.7969C10.4375 7.29065 11.9304 5.90627 14.2146 5.90627C15.3087 5.90627 16.4531 6.10159 16.4531 6.10159V8.56252H15.1921C13.9499 8.56252 13.5625 9.33336 13.5625 10.1242V12H16.3359L15.8926 14.8906H13.5625V21.8785C18.3431 21.1283 22 16.9913 22 12Z" fill="black" />
                        </svg>



                        <span class="ml-2"><?= $data['facebook']  ?></span>
                    </li>
                </ul>

            </section>


        </main>
    <?php } ?>
    <?php if (!empty($missingKeys)) { ?>
        <main class="w-full flex justify-center mt-10">
            <section class="w-full md:w-2/3 bg-red-200 rounded p-3">
                <h1 class="text-lg font-medium text-center">Tolong Lengkapi Data Anda Seperti: <?= implode(', ', $missingKeys) ?></h1>

            </section>
        </main>
    <?php } ?>

</body>

</html>